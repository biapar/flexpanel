/*
 * jQuery FlexPanel v1
 * https://github.com/dcooney/flexpanel
 *
 * Copyright 2013 Connekt Media - http://cnkt.ca/flexpanel
 * Free to use under the GPLv2 license.
 * http://www.gnu.org/licenses/gpl-2.0.html
 *
 * Author: Darren Cooney 
 * Twitter: @KaptonKaos
 */
 
 
@import "_functions";

#container,
#wrapper {
	width: 100%;
	position: relative;		
}

#wrapper{
	left:0;	
	-webkit-transform: translate3d(0,0,0);
	-moz-transform: translate3d(0,0,0);
	transform: translate3d(0,0,0); 
	-webkit-backface-visibility: hidden;
	-webkit-perspective: 1000;		
	@include transition(all .5s ease);
}	
 
//***********************************************
// -- FlexPanel Styles
//***********************************************
.flexpanel{	
	position: fixed;
	top:0;		
	right:-80%;
	width:80%;	
	height:auto;
	padding: 0;
	margin: 0;
	z-index: 1;
	display: block;
	-webkit-transform: translate3d(0,0,0);
	-moz-transform: translate3d(0,0,0);
	transform: translate3d(0,0,0); 
	
	-webkit-transition: -webkit-transform .5s ease;
	-moz-transition: -moz-transform .5s ease;
	transition: transform .5s ease;
	//Viewport, Do not remove this element
	.viewport-wrap{
		position: relative;
		width:100%;
		-webkit-transform: translate3d(0,0,0);
		-moz-transform: translate3d(0,0,0);
		transform: translate3d(0,0,0); 
		-webkit-backface-visibility: hidden;
		-webkit-perspective: 1000;
		-webkit-transition: -webkit-transform .5s ease;
		-moz-transition: -moz-transform .5s ease;
		transition: transform .5s ease;
	}
	
	//Menu Button
	.flex-btn{
		width:40px;
		height:40px;
		position: absolute;
		left:-44px;
		top:20px;
		z-index:9;				
		-webkit-transform: translate3d(0,0,0);
		-moz-transform: translate3d(0,0,0);
		transform: translate3d(0,0,0);
		-webkit-backface-visibility: hidden;
		-webkit-perspective: 1000;	 
		-moz-transform: translate(0, 0);
		-webkit-transform: translate(0, 0);
		transform: translate(0, 0);
		@include transition(all .35s ease);
		&.in-view{
			opacity: 1;
			filter: alpha(opacity = 100);
		}
		span{
			width:40px;
			height:40px;		
			background: url(../images/btn-menu-black.png) no-repeat center center;		
			display: block;
			@include hide;
			@include border-radius(4px);
			cursor: pointer;
			&:hover{
				background-color:#ccc;
			}
			&:active{
				@include box-shadow(inset);
			}
		}
	}
	.cover{
		width:100%;
		position: absolute;
		left:0%;
		top:0;
		display: none;
		height:auto;
		z-index: -1;
		@include transition(all 0.5s ease);
	}		
	.viewport{
		height:auto;
		width:100%;
		position: relative;
		padding: 0;			
		overflow: hidden;			
		overflow-y: auto;	
		background: #444;
		@include box-sizing;
		&.smooth{// Add smooth scroll to webkit browsers <- This is a big deal
			-webkit-overflow-scrolling: touch; 
		}		
	}	
	nav{
		padding: 0 0 50px;	
		ul{		
			display: block;
			clear: both;			
			background: #333;
			padding:0;
			margin:0;
			@include transform(scale(0.95));
			@include transition(all .45s ease);			
			li{
				margin:0;
				padding:0;
				clear: both;
				list-style: none;
				width: auto;
				display: block;
				font-size:18px;
				border-top: 1px solid #444;
				border-bottom: 1px solid #111;
				&:first-child{
					border-top:none;
				}
				ul{
					margin:5px 20px 20px;
					border: none;
					li{
						font-size:15px;
						margin:2px 0;
						border:none;
						a{
							padding:10px 14px;
							background: #444;
							@include border-radius(2px);
							&:active{								
								background: #2f2f2f; 
								@include box-shadow();
							}
						}
					}
				}
				a{
					padding:10px 20px;
					display: block;
					color:#fff;
					text-decoration: none;	
					-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
					&:active{					
						background: #232323; 
						@include box-shadow();
					}					
					&.down{
						//color:#fff;	
						//background: #3a5455;
						//@include box-shadow();	
					}
				}
				&.active > a{				
					color:#66c9cd !important;
					background: #222 !important;
					font-weight: bold;
				}
				&.active{
					background: #222;
				}
			}
		}
	}
}

//***********************************************
// -- Right Align - Active State
//***********************************************
body.flexpanel-active{
	#wrapper{		
		-moz-transform: translate(-75%, 0);
		-webkit-transform: translate(-75%, 0);
		transform: translate(-75%, 0);
		opacity: 0.4;
		filter: alpha(opacity = 40);
	}		 
	.flexpanel{
		right:-80%;
		.cover{
    		display:block;
    		left: -130%;    		
    	}
	}
	.viewport-wrap{
		-moz-transform: translate(-100%, 0);
		-webkit-transform: translate(-100%, 0);
		transform: translate(-100%, 0);			
		.flex-btn{
			opacity: 1 !important;
			filter: alpha(opacity = 100) !important;
		}		
		nav ul{
			@include transform(scale(1));	
		}
	}
}

//***********************************************
// -- Left Align Panel
//***********************************************
body.flexpanel-left .flexpanel{	
	right:auto;
	left:-80%;
	.flex-btn{		
		left:auto;
		right:-48px;
	}
	.cover{
		left:auto;
		right:-50%;
	}
}

body.flexpanel-left.flexpanel-active{
	#wrapper{		
		-moz-transform: translate(75%, 0);
		-webkit-transform: translate(75%, 0);
		transform: translate(75%, 0);
	}		 
			 
	.flexpanel{
		right: auto;
		left:-80%;
		.cover{
			display:block;
    		left: 130%;    		
    	}
	}
	.viewport-wrap{
		-moz-transform: translate(100%, 0);
		-webkit-transform: translate(100%, 0);
		transform: translate(100%, 0);	
	}
}

//***********************************************
// -- Top Align Panel
//***********************************************
body.flexpanel-top .flexpanel{	
	right:auto;
	left:0;
	width:100% !important;
	-moz-transform: translate(0, -100%);
	-webkit-transform: translate(0, -100%);
	transform: translate(0, -100%);
	.flex-btn{		
		top:auto;
		left:20px;
		bottom:-40px;
	}
	.cover{
		left:auto;
		right:auto;
	}
	.viewport-wrap{
		width:100%;
		-moz-transform: translate(0, 0);
		-webkit-transform: translate(0, 0);
		transform: translate(0, 0);
	}
	.viewport{
		@include border-radius(0 0 6px 6px);
		@include box-shadow('drop-shadow');
		
	}

}

//Active States
body.flexpanel-top.flexpanel-active{
	#wrapper{		
		-moz-transform: translate(0, 200px);
		-webkit-transform: translate(0, 200px);
		transform: translate(0, 200px);
	}					 
	.flexpanel{
		right: auto;
		left:auto;
		-moz-transform: translate(0, 0);
		-webkit-transform: translate(0, 0);
		transform: translate(0, 0);
		.cover{
			display:block;
    		left: auto;    		
    	}
	}
	.viewport-wrap{
		-moz-transform: translate(0, 0);
		-webkit-transform: translate(0, 0);
		transform: translate(0, 0);
	}
}




	


